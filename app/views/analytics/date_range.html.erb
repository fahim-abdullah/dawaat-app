<div class="container">

  <div class="py-4">
    <h1 class="semi">Analytics - Date range</h1>
    <hr>
  </div>

  
  <p>Chart:</p>


  <canvas id="myChart"></canvas>

  <%= @orders_total.inspect %> <br>
  <%= @orders_total.keys.as_json %> <br>
  <%= @orders_total.values.as_json %> <br>

</div>

<% content_for :user_javascript do %>
  <script type="text/javascript">
    var ctx = document.getElementById('myChart').getContext('2d');
    var chart = new Chart(ctx, {
        // The type of chart we want to create
        type: 'line',

        // The data for our dataset
        data: {
            labels: <%= @orders_total.keys.as_json.to_s.html_safe %>,
            datasets: [{
                label: 'Daily sell',
                backgroundColor: 'rgb(255, 99, 132)',
                borderColor: 'rgb(255, 99, 132)',
                data: <%= @orders_total.values.as_json.to_s.html_safe %>
            }]
        },

        // Configuration options go here
        options: {}
    });
  </script>
<% end %>
